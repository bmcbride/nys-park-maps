(function framework7ComponentLoader(e,t){void 0===t&&(t=!0);document,window;var a=e.$,l=(e.Template7,e.utils),c=(e.device,e.support,e.Class),o=(e.Modal,e.ConstructorMethods),d=(e.ModalMethods,function(e){function t(t,c){void 0===c&&(c={}),e.call(this,c,[t]);var o=this,d={};o.useModulesParams(d),o.params=l.extend(d,c);var n=a(o.params.el);if(0!==n.length){if(o.$el=n,o.el=n[0],o.$el[0].f7DataTable){var s=o.$el[0].f7DataTable;return o.destroy(),s}return o.$el[0].f7DataTable=o,l.extend(o,{collapsible:n.hasClass("data-table-collapsible"),$headerEl:n.find(".data-table-header"),$headerSelectedEl:n.find(".data-table-header-selected")}),o.attachEvents=function(){o.$el.on("change",'.checkbox-cell input[type="checkbox"]',i),o.$el.find("thead .sortable-cell").on("click",r)},o.detachEvents=function(){o.$el.off("change",'.checkbox-cell input[type="checkbox"]',i),o.$el.find("thead .sortable-cell").off("click",r)},o.useModules(),o.init(),o}function i(e){if(!e.detail||!e.detail.sentByF7DataTable){var t=a(this),l=t[0].checked,c=t.parents("td,th").index();t.parents("thead").length>0?(0===c&&n.find("tbody tr")[l?"addClass":"removeClass"]("data-table-row-selected"),n.find("tbody tr td:nth-child("+(c+1)+") input").prop("checked",l).trigger("change",{sentByF7DataTable:!0})):(0===c&&t.parents("tr")[l?"addClass":"removeClass"]("data-table-row-selected"),l?n.find("tbody .checkbox-cell:nth-child("+(c+1)+') input[type="checkbox"]:checked').length===n.find("tbody tr").length&&n.find("thead .checkbox-cell:nth-child("+(c+1)+') input[type="checkbox"]').prop("checked",!0).trigger("change",{sentByF7DataTable:!0}):n.find("thead .checkbox-cell:nth-child("+(c+1)+') input[type="checkbox"]').prop("checked",!1)),o.checkSelectedHeader()}}function r(){var e,t=a(this),l=t.hasClass("sortable-cell-active"),c=t.hasClass("sortable-desc")?"desc":"asc";l?(e="desc"===c?"asc":"desc",t.removeClass("sortable-desc sortable-asc").addClass("sortable-"+e)):(n.find("thead .sortable-cell-active").removeClass("sortable-cell-active"),t.addClass("sortable-cell-active"),e=c),t.trigger("datatable:sort",e),o.emit("local::sort dataTableSort",o,e)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setCollapsibleLabels=function(){var e=this;e.collapsible&&e.$el.find("tbody td:not(.checkbox-cell)").each(function(t,l){var c=a(l),o=c.index(),d=c.attr("data-collapsible-title");d||""===d||c.attr("data-collapsible-title",e.$el.find("thead th").eq(o).text())})},t.prototype.checkSelectedHeader=function(){if(this.$headerEl.length>0&&this.$headerSelectedEl.length>0){var e=this.$el.find("tbody .checkbox-cell input:checked").length;this.$el[e>0?"addClass":"removeClass"]("data-table-has-checked"),this.$headerSelectedEl.find(".data-table-selected-count").text(e)}},t.prototype.init=function(){this.attachEvents(),this.setCollapsibleLabels(),this.checkSelectedHeader()},t.prototype.destroy=function(){var e=this;e.$el.trigger("datatable:beforedestroy",e),e.emit("local::beforeDestroy dataTableBeforeDestroy",e),e.attachEvents(),e.$el[0]&&(e.$el[0].f7DataTable=null,delete e.$el[0].f7DataTable),l.deleteProps(e),e=null},t}(c)),n={name:"dataTable",static:{DataTable:d},create:function(){this.dataTable=o({defaultSelector:".data-table",constructor:d,app:this,domProp:"f7DataTable"})},on:{tabBeforeRemove:function(e){var t=this;a(e).find(".data-table-init").each(function(e,a){t.dataTable.destroy(a)})},tabMounted:function(e){var t=this;a(e).find(".data-table-init").each(function(e,a){t.dataTable.create({el:a})})},pageBeforeRemove:function(e){var t=this;e.$el.find(".data-table-init").each(function(e,a){t.dataTable.destroy(a)})},pageInit:function(e){var t=this;e.$el.find(".data-table-init").each(function(e,a){t.dataTable.create({el:a})})}},vnode:{"data-table-init":{insert:function(e){var t=e.elm;this.dataTable.create({el:t})},destroy:function(e){var t=e.elm;this.dataTable.destroy(t)}}}};if(t){if(e.prototype.modules&&e.prototype.modules[n.name])return;e.use(n),e.instance&&(e.instance.useModuleParams(n,e.instance.params),e.instance.useModule(n))}return n}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
