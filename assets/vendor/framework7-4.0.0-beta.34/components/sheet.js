(function framework7ComponentLoader(e,t){void 0===t&&(t=!0);document,window;var o=e.$,s=(e.Template7,e.utils),a=(e.device,e.support,e.Class,e.Modal),r=(e.ConstructorMethods,e.ModalMethods),c=function(e){function t(t,a){var r=s.extend({on:{}},t.params.sheet,a);e.call(this,t,r);var c,l,n,i=this;if(i.params=r,(c=i.params.el?o(i.params.el):o(i.params.content))&&c.length>0&&c[0].f7Modal)return c[0].f7Modal;if(0===c.length)return i.destroy();function p(e){var t=e.target;0===o(t).closest(i.el).length&&(i.params.closeByBackdropClick&&i.params.backdrop&&i.backdropEl&&i.backdropEl===t?i.close():i.params.closeByOutsideClick&&i.close())}return i.params.backdrop&&0===(l=t.root.children(".sheet-backdrop")).length&&(l=o('<div class="sheet-backdrop"></div>'),t.root.append(l)),i.on("sheetOpen",function(){i.params.scrollToEl&&function(){var e=o(i.params.scrollToEl).eq(0);if(0!==e.length&&0!==(n=e.parents(".page-content")).length){var t,s=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10),r=n[0].offsetHeight-s-c.height(),l=n[0].scrollHeight-s-c.height(),p=n.scrollTop(),d=e.offset().top-s+e[0].offsetHeight;if(d>r){var h=p+d-r;h+r>l&&(t=h+r-l+a,r===l&&(t=c.height()),n.css({"padding-bottom":t+"px"})),n.scrollTop(h,300)}}}()}),i.on("sheetOpened",function(){(i.params.closeByOutsideClick||i.params.closeByBackdropClick)&&t.on("click",p)}),i.on("sheetClose",function(){i.params.scrollToEl&&n&&n.length>0&&n.css({"padding-bottom":""}),(i.params.closeByOutsideClick||i.params.closeByBackdropClick)&&t.off("click",p)}),s.extend(i,{app:t,$el:c,el:c[0],$backdropEl:l,backdropEl:l&&l[0],type:"sheet"}),c[0].f7Modal=i,i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a),l={name:"sheet",params:{sheet:{closeByBackdropClick:!0,closeByOutsideClick:!1}},static:{Sheet:c},create:function(){this.passedParams.sheet&&void 0!==this.passedParams.sheet.backdrop||(this.params.sheet.backdrop="md"===this.theme),this.sheet=s.extend({},r({app:this,constructor:c,defaultSelector:".sheet-modal.modal-in"}))},clicks:{".sheet-open":function(e,t){void 0===t&&(t={});o(".sheet-modal.modal-in").length>0&&t.sheet&&o(t.sheet)[0]!==o(".sheet-modal.modal-in")[0]&&this.sheet.close(".sheet-modal.modal-in"),this.sheet.open(t.sheet,t.animate)},".sheet-close":function(e,t){void 0===t&&(t={});this.sheet.close(t.sheet,t.animate)}}};if(t){if(e.prototype.modules&&e.prototype.modules[l.name])return;e.use(l),e.instance&&(e.instance.useModuleParams(l,e.instance.params),e.instance.useModule(l))}return l}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
